# Лабораторна робота №4
## Тема: Абстракції та інтерфейси. Композиція та агрегація.
## Мета: Навчитися створювати абстрактні класи та інтерфейси, будувати ієрархії класів із використанням композиції та агрегації, реалізовувати прості обчислення, демонструвати гнучкість і повторне використання коду.
## Опис реалізації
У лабораторній роботі №4 реалізована програма для сервісу доставки з інтерфейсом, абстрактним класом та його 2 реалізаціями, також продемонстрована агрегація.
Програма моделює сервіс, який може приймати різні типи посилок (стандартні та експрес) та розраховувати для партії посилок загальні показники: середню та максимальну вартість.
## Структура класів
Для досягнення мети було створено наступну ієрархію класів:
### 1. Інтерфейс IPackage
Це наша головна абстракція. Він виступає як "контракт" і вимагає, щоб будь-який клас, що його реалізує, мав:
- властивість для ваги.
- властивість для номера відстеження.
- метод для розрахунку вартості доставки.
### 2. Абстрактний клас BasePackage
Цей клас реалізує інтерфейс IPackage і слугує "заготовкою" (базовим шаблоном) для всіх конкретних типів посилок.
1. Він реалізує спільну логіку: зберігання Weight та TrackingNumber і надає загальний конструктор.
2. Метод CalculateCost() він позначає як abstract. Це змушує всі класи-нащадки (наприклад, StandardPackage) надати свою власну, унікальну реалізацію цього методу.
### 3. Конкретні класи: StandardPackage та ExpressPackage
Це дві різні реалізації BasePackage:
1. StandardPackage: Наслідує BasePackage і реалізує CalculateCost() за простою формулою (наприклад, Вага * 10).
2. ExpressPackage: Також наслідує BasePackage, але має складнішу формулу розрахунку (наприклад, Вага * 25 + 50), оскільки включає доплату за швидкість.
### 4. Клас DeliveryService (Агрегація)
Цей клас демонструє агрегацію.
- Він має в собі список посилок: private List<IPackage> currentBatch;.
- Ключовий момент: список має тип інтерфейсу (IPackage), а не конкретного класу. Це дозволяє DeliveryService працювати з будь-якими типами посилок (StandardPackage, ExpressPackage), не знаючи деталей їх реалізації.
- Клас надає методи для обчислень по всій "партії": CalculateAverageCost() та GetMaxCost().
## Приклад демонстрації програми
### Код програми
```csharp
public static void Main(string[] args)
    {
        DeliveryService service = new DeliveryService();
        IPackage p1 = new StandardPackage("UA1001", 2.5); 
        IPackage p2 = new ExpressPackage("UA1002", 1.0);  
        IPackage p3 = new StandardPackage("UA1003", 5.0); 
        service.AddPackageToBatch(p1);
        service.AddPackageToBatch(p2);
        service.AddPackageToBatch(p3);
        service.ShowAllPackagesInBatch();
        Console.WriteLine($"\nМаксимальна вартість: {service.GetMaxCost()} грн"); 
        Console.WriteLine($"Середня вартість: {service.CalculateAverageCost():F2} грн");
    }
```
### Вивід програми
![Screenshot](..\images\lab4.png)
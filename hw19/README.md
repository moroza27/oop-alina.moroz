# Composite: дерево як єдина колекція

## 1. Вступ

Патерн **Composite** належить до структурних патернів проєктування та використовується для представлення ієрархічних структур типу «частина–ціле». Його основна мета — забезпечити можливість однакової роботи з окремими об’єктами та їх композиціями.

Застосування цього патерна дозволяє клієнтському коду не розрізняти одиничні елементи та групи елементів, що значно спрощує взаємодію з деревоподібними структурами.

## 2. Принцип роботи патерна Composite

Патерн базується на створенні спільного інтерфейсу (Component), який реалізують:

* **Leaf (лист)** — окремий елемент структури;
* **Composite (контейнер)** — об’єкт, що може містити інші компоненти.

Оскільки як листи, так і контейнери реалізують один і той самий інтерфейс, клієнт може викликати однакові методи незалежно від типу об’єкта.

Таким чином, уся ієрархія розглядається як єдина колекція, а операції можуть виконуватися рекурсивно для всієї структури.

## 3. Реальні сценарії застосування

### 3.1. Файлова система

У файловій системі:

* файл є листом (Leaf);
* папка є контейнером (Composite), який може містити файли та інші папки.

Операції, такі як обчислення розміру або відображення структури, можуть виконуватися як для окремого файлу, так і для всієї папки.

### 3.2. Графічні інтерфейси користувача

У системах UI:

* кнопки, текстові поля — листи;
* панелі, вікна — контейнери.

Методи відображення, приховування або оновлення можуть застосовуватися як до окремих елементів, так і до цілих груп.

### 3.3. Організаційні структури

В ієрархії компанії:

* працівник — лист;
* відділ — контейнер.

Операції, наприклад розрахунок сумарної заробітної плати, можуть виконуватися для одного працівника або для всього підрозділу.

## 4. Переваги патерна Composite

* Спрощення роботи з ієрархічними структурами.
* Єдність інтерфейсу для окремих об’єктів і їх груп.
* Підтримка рекурсивних операцій.
* Полегшення розширення системи.

## 5. Недоліки патерна Composite

* Ускладнення обмеження типів дочірніх елементів.
* Можлива поява методів, які не мають сенсу для листових об’єктів.
* Потенційне ускладнення архітектури при надмірному використанні.

## 6. Висновок

Патерн Composite є ефективним засобом роботи з деревоподібними структурами. Він забезпечує єдиний підхід до обробки як окремих елементів, так і їх груп, що спрощує архітектуру програмного забезпечення та підвищує її гнучкість.

# Лабораторна робота №5
## Тема: Узагальнені типи (Generics), колекції і LINQ, обробка винятків.
## Мета: Навчитися створювати узагальнені класи/методи, працювати з колекціями та LINQ, коректно валідувати вхідні дані і створювати/обробляти винятки.
## Опис реалізації
У лабораторній роботі №5 реалізовано програму, що імітує систему бронювання місць у кінотеатрі.
Сутності та Зв'язки: Створено класи Hall (Зал), Seat (Місце) та Reservation (Бронювання).

Композиція: Hall складається з Seat. Схема місць є невід'ємною частиною залу і створюється разом з ним.

Агрегація: Hall агрегує (збирає) список об'єктів Reservation.

Generics (Узагальнення): Вимогу реалізовано через створення узагальненого класу Matrix<T>. Цей клас було використано для зберігання схеми залу як Matrix<Seat>.

Винятки та Контроль: Створено два власні класи винятків: SeatAlreadyBookedException (для запобігання подвійному бронюванню) та InvalidSeatException (для обробки запитів на неіснуючі місця).

Обчислення (LINQ): Клас Hall містить методи для бізнес-логіки:
1. GetTotalRevenue() (використовує .Sum() для підрахунку доходу).
2. GetOccupancyPercentage() (використовує .Count() для розрахунку відсотка зайнятих місць).
3. GetMostPopularRows() (використовує GroupBy().OrderByDescending() для визначення найпопулярніших рядів).

Демонстрація: У методі Main() продемонстровано створення залу, успішне бронювання та відловлювання винятку SeatAlreadyBookedException за допомогою блоку try-catch.
### Контрольні запитання
1. Що таке generics? Які їхні переваги? 

Generics (Узагальнення) — це, по суті, "шаблони" для ваших класів, методів чи інтерфейсів, де ви можете не вказувати конкретний тип даних одразу. Замість цього ви використовуєте "заповнювач" (placeholder), який зазвичай називають T. Переваги: Якщо ви оголосили List<int>, ви не зможете випадково додати туди рядок (string). Компілятор просто не дасть вам цього зробити. Узагальнення працюють набагато швидше, ніж старі підходи, оскільки їм не потрібно постійно "пакувати" (boxing) та "розпаковувати" (unboxing) дані з типу object.  Пишеться один клас (List<T>) і використовуєте його для будь-яких типів даних.

2. Які основні відмінності між ArrayList і List<T>?

Що зберігає? ArrayList - не-узагальнена колекція. List<T> - узагальнена (Generic) колекція. <br> 
Зберігання даних. ArrayList - зберігає всі елементи як тип object. List<T> - зберігає елементи конкретного типу T, вказаного при створенні.<br> 
Безпека типів. ArrayList - відсутня. List<T> - присутня.<br> 
Продуктивність. ArrayList - нижча. List<T> - вища.

3. Відмінності між Dictionary<TKey,TValue> та List<T>

List<T> та Dictionary<TKey,TValue> — це узагальнені колекції, призначені для різних сценаріїв зберігання та доступу до даних.

List<T> (Список): Являє собою впорядковану колекцію елементів одного типу T.
Доступ до елементів здійснюється за їх числовим індексом (позицією у списку), починаючи з 0.
Призначений для ситуацій, коли важливий порядок елементів або потрібне просте послідовне зберігання.

Dictionary<TKey,TValue> (Словник):
Являє собою колекцію пар "ключ-значення".
Кожен елемент (TValue) асоціюється з унікальним ключем (TKey).
Доступ до значень здійснюється за їх ключем, що забезпечує дуже швидкий пошук (близький до O(1)).
Призначений для ситуацій, коли необхідний швидкий пошук елементів за унікальним ідентифікатором (наприклад, ID, ім'я користувача, артикул).

4. Переваги LINQ над класичними циклами

Основні переваги:
-  Читабельність та лаконічність: LINQ-запити часто є значно коротшими та краще виражають намір (що потрібно отримати), а не механіку (як це отримати). Це робить код чистішим та легшим для розуміння.

- Декларативний синтаксис: Розробник описує, який результат йому потрібен, а не деталізує кожен крок його отримання (фільтрація, сортування, групування).

- Уніфікований доступ до даних: LINQ надає єдиний синтаксис для роботи з різними джерелами даних, такими як об'єкти в пам'яті (колекції), бази даних (Entity Framework) або XML-документи.

- Композиція запитів: LINQ дозволяє легко комбінувати та будувати складні запити з простіших частин.

5. Робота ключового слова finally.

finally — це "прибирання" ресурсів. У цьому блоці ви гарантовано закриваєте з'єднання з базою даних, файлові потоки тощо, незалежно від того, чи сталася помилка.

6. Доцільність створення власних класів винятків.

Створення власних класів винятків (custom exceptions) є доцільним тоді, коли стандартних, вбудованих у .NET, класів винятків (як ArgumentNullException, InvalidOperationException тощо) недостатньо для точного опису специфічної помилкової ситуації, що виникає у бізнес-логіці додатка.

### Вивід програми
![Screenshot](./lab5.png)